# -*- coding: iso-8859-15 -*-

from django.http import HttpResponse, HttpResponseRedirect
from django.shortcuts import render_to_response

def Playlist(request):
	return render_to_response('Playlist.html')

def HTML5_Player(URL):
	# e.g. http://video-js.zencoder.com/oceans-clip.ogv
	return '<video name=Player id=Player style="width:320px; height:180px;" src="'+URL+'" autobuffer autoplay controls />'

"""
	 insertplayer(	'<object id="MediaPlayer" height="220" width="220" type="application/x-oleobject" standby="Loading Player ...">'
			+ '<embed name="MediaPlayer" type="application/x-mplayer2" src="'+URL+'" pluginspage="http://mplayerplug-in.sourceforge.net/" width="220" height="220" displaysize="0" showstatusbar="1" autosize="0" showpositioncontrols="0" showaudiocontrols="1" showcontrols="true" animationatstart="0" autostart="1" transparentatstart="1" />'
			+ '</object>' );
"""

def YouTube_Player(URL):
	extract = '<embed type="application/x-shockwave-flash" src="http://s.ytimg.com/yt/swfbin/watch_as3-vflzupnQw.swf" width="320" height="180" id="movie_player" flashvars="tmi=1&amp;account_playback_token=&amp;url_encoded_fmt_stream_map=url%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v13.lscache2.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Cratebypass%25252Ccp%2526itag%253D45%2526ip%253D93.0.0.0%2526signature%253D1F67C27EA0FDEE798E1BF7B2A6BC5CA42EEA70C1.47833147B474320BA4BECED706A588A15411C8DF%2526sver%253D3%2526ratebypass%253Dyes%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dhd720%26fallback_host%3Dtc.v13.cache2.c.youtube.com%26type%3Dvideo%252Fwebm%253B%2Bcodecs%253D%2522vp8.0%252C%2Bvorbis%2522%26itag%3D45%2Curl%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v12.lscache5.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Cratebypass%25252Ccp%2526itag%253D22%2526ip%253D93.0.0.0%2526signature%253D517CA7F7657D62ABDAE6348129334159EEB728A9.D93FDF67E22903F5256B2B944C8E539A07C4EF3A%2526sver%253D3%2526ratebypass%253Dyes%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dhd720%26fallback_host%3Dtc.v12.cache5.c.youtube.com%26type%3Dvideo%252Fmp4%253B%2Bcodecs%253D%2522avc1.64001F%252C%2Bmp4a.40.2%2522%26itag%3D22%2Curl%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v20.lscache5.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Cratebypass%25252Ccp%2526itag%253D44%2526ip%253D93.0.0.0%2526signature%253D61308097E4FB1C0F2904FF26629D9548205EB673.94C8C7EB6B9ED8D33392044231B82CF19AF03903%2526sver%253D3%2526ratebypass%253Dyes%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dlarge%26fallback_host%3Dtc.v20.cache5.c.youtube.com%26type%3Dvideo%252Fwebm%253B%2Bcodecs%253D%2522vp8.0%252C%2Bvorbis%2522%26itag%3D44%2Curl%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v11.lscache1.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Calgorithm%25252Cburst%25252Cfactor%25252Ccp%2526algorithm%253Dthrottle-factor%2526itag%253D35%2526ip%253D93.0.0.0%2526burst%253D40%2526sver%253D3%2526signature%253D5CB89E302C29018DCCE5509E63CE6E4178674A4B.BFD9FBE3DFB81C18FD852049C3EA47FBA2A47F2E%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526factor%253D1.25%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dlarge%26fallback_host%3Dtc.v11.cache1.c.youtube.com%26type%3Dvideo%252Fx-flv%26itag%3D35%2Curl%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v17.lscache3.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Cratebypass%25252Ccp%2526itag%253D43%2526ip%253D93.0.0.0%2526signature%253DB2E46881778DE0119AA068333AEB150600090E3F.43C4B8127633EC82C52FEADA09188C2503D36C8C%2526sver%253D3%2526ratebypass%253Dyes%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dmedium%26fallback_host%3Dtc.v17.cache3.c.youtube.com%26type%3Dvideo%252Fwebm%253B%2Bcodecs%253D%2522vp8.0%252C%2Bvorbis%2522%26itag%3D43%2Curl%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v22.lscache2.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Calgorithm%25252Cburst%25252Cfactor%25252Ccp%2526algorithm%253Dthrottle-factor%2526itag%253D34%2526ip%253D93.0.0.0%2526burst%253D40%2526sver%253D3%2526signature%253DAD6860B04F74616DFBE38C276BCB87C69F47A815.8A7E83AD92A9BADBB841E40F1FCCBB2E2918F711%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526factor%253D1.25%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dmedium%26fallback_host%3Dtc.v22.cache2.c.youtube.com%26type%3Dvideo%252Fx-flv%26itag%3D34%2Curl%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v16.lscache1.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Cratebypass%25252Ccp%2526itag%253D18%2526ip%253D93.0.0.0%2526signature%253D107EA143E7C8F13168279ADF5BAEB71287B8AE8E.83227518F5172BF832C124BB56D86994043FCB84%2526sver%253D3%2526ratebypass%253Dyes%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dmedium%26fallback_host%3Dtc.v16.cache1.c.youtube.com%26type%3Dvideo%252Fmp4%253B%2Bcodecs%253D%2522avc1.42001E%252C%2Bmp4a.40.2%2522%26itag%3D18%2Curl%3Dhttp%253A%252F%252Fo-o.preferred.ber01s01.v20.lscache3.c.youtube.com%252Fvideoplayback%253Fsparams%253Did%25252Cexpire%25252Cip%25252Cipbits%25252Citag%25252Csource%25252Calgorithm%25252Cburst%25252Cfactor%25252Ccp%2526algorithm%253Dthrottle-factor%2526itag%253D5%2526ip%253D93.0.0.0%2526burst%253D40%2526sver%253D3%2526signature%253D200FC1D8D9DEB3C5EF13A09734F35DD9E213D88E.CEE56BE43F2894501CB4AF04553B16D7D7CA5298%2526source%253Dyoutube%2526expire%253D1329086901%2526key%253Dyt1%2526ipbits%253D8%2526factor%253D1.25%2526cp%253DU0hRTlBTVF9FS0NOMV9ITVhKOmJiczhybWp2OFRo%2526id%253D37b301bcb742faca%26quality%3Dsmall%26fallback_host%3Dtc.v20.cache3.c.youtube.com%26type%3Dvideo%252Fx-flv%26itag%3D5&amp;enablecsi=1&amp;watermark=%2Chttp%3A%2F%2Fs.ytimg.com%2Fyt%2Fimg%2Fwatermark%2Fyoutube_watermark-vflHX6b6E.png%2Chttp%3A%2F%2Fs.ytimg.com%2Fyt%2Fimg%2Fwatermark%2Fyoutube_hd_watermark-vflAzLcD6.png&amp;sourceid=yw&amp;supersizefeatured=1&amp;plid=AAS4x0CkuDezQDJy&amp;allow_embed=1&amp;rvs=view_count%3D181%252C413%26author%3DMovieManiacsDE%26title%3DTRON%2BLegacy%2B%257C%2Bmusic%2Bby%2BDaft%2BPunk%2B%25282010%2529%26length_seconds%3D130%26featured%3D1%26id%3DJ4TnkX_NRwU%2Cview_count%3D270%252C906%26author%3Dbarrysbaps01%26length_seconds%3D279%26id%3DKeoEZ7Hk27Y%26title%3DDaft%2BPunk%2BTron%2BLegacy%2BTheme%2BHD%2Cview_count%3D113%252C821%26author%3D96ihatehaters%26length_seconds%3D260%26id%3DKb-vnDORhrc%26title%3DDaft%2BPunk-Derezzed%2Cview_count%3D27%252C513%26author%3DYoV59%26length_seconds%3D290%26id%3D3OUNoXQWncY%26title%3DDaft%2BPunk%2B-%2BThe%2BRailing%2B%2528TRON%2BLEGACY%2529%2Cview_count%3D2%252C150%252C373%26author%3Dartfunk06%26length_seconds%3D250%26id%3DH1Pc-S5dl8g%26title%3DDaft%2BPunk%2BTron%2BLegacy%2Bsoundtrack%2B-%2BDerezzed%2Cview_count%3D147%252C302%26author%3Dmaemo4one%26length_seconds%3D288%26id%3Dh3iDKNiTjrE%26title%3DDaft%2BPunk%2B-%2BEnd%2Bof%2BLine%2B%2528Bass%2BRemix%2529%2Cview_count%3D15%252C304%252C977%26author%3Dgirleygirlfl%26length_seconds%3D44%26id%3D2MpUrDNIDLY%26title%3DTron%2B-light%2BBike%2Cview_count%3D749%252C217%26author%3DTheEthiopianDJ%26length_seconds%3D333%26id%3DGzHHKhsUBzY%26title%3D%255BNew%2B2011%255D%2BDaft%2BPunk%2Bft.%2BLady%2BGaga%2B-%2B%2522Human%2BAfter%2BAll%2522%2BMash%2BUp%2Cview_count%3D128%252C905%26author%3Dmagicmazzi%26length_seconds%3D278%26id%3DNb2wNc2K378%26title%3DDaft%2BPunk%2B-%2BHarder%2BBetter%2BFaster%2BStronger%2BRemix%2Cview_count%3D173%252C002%26author%3DDisneyMasterpieces%26length_seconds%3D216%26id%3Dr6rba8yKCNI%26title%3Dtron%2Blegacy%2B-%2BEnter%2Bthe%2Bclub%2Cview_count%3D106%252C929%26author%3DLaughingmandns%26length_seconds%3D245%26id%3DskP4ql1COi0%26title%3DDaft%2BPunk%2B-%2BSynopsis%2B%2528TRON%2BLegacy%2BOst%2529%2Cview_count%3D154%252C949%26author%3DDJkidtronix%26length_seconds%3D237%26id%3DvdLhbuqEfD0%26title%3DDaft%2BPunk-One%2BMore%2BTime%2B%2528HQ%2529&amp;vq=auto&amp;showpopout=1&amp;autohide=2&amp;hl=en_US&amp;csi_page_type=watch5&amp;keywords=daft%2Cpunk%2Charder%2Cbetter%2Cfaster%2Cstronger%2CDiscovery%2C2001%2Celectro%2Cfrench%2Ctouch%2Clabels%2Cvirgin%2Cmusic%2Cemi%2Calive%2C2007%2CDigital%2CLove%2COne%2CMore%2CTime%2CAround%2CThe%2CWorld%2CAerodynamic%2CTechnologic%2CRobot%2CRock%2CDa%2CFunk%2CSomething%2CAbout%2CUs%2Clive%2Cwinever%2CVoyager%2CRevolution%2C909%2CTRON%2CUPRISING%2CLEGACY%2CDISNEY%2CElectroliz%2CFLYNN%2CGRID%2Cderezzed%2CEND%2COF%2CLINE%2CTITLES&amp;cr=DE&amp;no_get_video_log=1&amp;endscreen_module=http%3A%2F%2Fs.ytimg.com%2Fyt%2Fswfbin%2Fendscreen-vflBviJj4.swf&amp;fmt_list=45%2F1280x720%2F99%2F0%2F0%2C22%2F1280x720%2F9%2F0%2F115%2C44%2F854x480%2F99%2F0%2F0%2C35%2F854x480%2F9%2F0%2F115%2C43%2F320x180%2F99%2F0%2F0%2C34%2F320x180%2F9%2F0%2F115%2C18%2F320x180%2F9%2F0%2F115%2C5%2F320x240%2F7%2F0%2F0&amp;referrer=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3Dr6rba8yKCNI%26feature%3Drelated&amp;video_id=N7MBvLdC-so&amp;length_seconds=273&amp;feature=related&amp;sendtmp=1&amp;enablejsapi=1&amp;sk=PAlfGh_ai6-XsOH9FkcTlVMSHHSx2klSC&amp;theme=tlb&amp;t=vjVQa1PpcFPTtRVL2GtE2MFooYALjkB3AP8883x7_d0%3D&amp;timestamp=1329065829&amp;p_w=u7X53igZoec&amp;loudness=-19.1299991608&amp;sdetail=f%3Arelated%2Crv%3Ar6rba8yKCNI" allowscriptaccess="always" allowfullscreen="false" autoplay="true" bgcolor="#000000">'
	return extract

def MyVideo_Player(URL):
	extract = ''
	return extract

def Player(request):
	params = {}
	if 'Link' in request.GET.keys():
		params['Link'] = request.GET.get('Link')
		if 'youtube.' in params['Link']:
			params['Player'] = YouTube_Player(params['Link'])
		elif 'myvideo.' in params['Link']:
			params['Player'] = MyVideo_Player(params['Link'])
		else:
			params['Player'] = HTML5_Player('http://video-js.zencoder.com/oceans-clip.ogv') #request.GET.get('width'), request.GET.get('height'))
	return render_to_response('Player.html', params)

